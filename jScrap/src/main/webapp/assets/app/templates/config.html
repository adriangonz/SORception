<h2>{{settings.name}}</h2>

<table class="table">
  <thead>
      <tr>
        <th>#</th>
        <th>Usuario</th>
        <th>Nombre</th>
        <th>Fecha de inscripción</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="user in settings.userList" ng-class="{'blue': user.isAdmin == true}">
        <td>{{user.id}}</td>
        <td>{{user.username}}</td>
        <td>{{user.name}}</td>
        <td>{{user.created | date:'short'}}</td>
      </tr>
    </tbody>
</table>

<form class="form-inline" role="form" action="#" method="POST" accept-charset="utf-8">
  <div class="form-group">
    <label class="sr-only" for="username">Usuario</label>
    <input class="form-control" type="text" id="username" ng-model="user.username" value="" placeholder="jperez">
  </div>
  <div class="form-group">
    <label class="sr-only" for="name">Nombre</label>
    <input class="form-control" type="text" id="name" ng-model="user.name" value="" placeholder="Jose Perez">
  </div>
  <input class="btn" type="submit" post-user-btn="user" value="Crear Usuario">
</form>

<hr>

<table class="table">
	<thead>
      <tr>
        <th>#</th>
        <th>Token</th>
        <th>Estado</th>
        <th>Fecha de creación</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="token in settings.tokenList" ng-class="{'success': token.status == 'VALID', 'danger': token.status == 'EXPIRED', 'warning': token.status == 'REQUESTED'}">
        <td>{{token.id}}</td>
        <td>{{token.token}}</td>
        <td>{{token.status}}</td>
        <td>{{token.created | date:'short'}}</td>
      </tr>
    </tbody>
</table>

<button class="btn btn-success" request-token-button>Pedir nuevo token</button>
<button class="btn btn-info" check-token-status-button>Comprobar estado</button>

<br/>
<hr>
<h4>Auditoria</h4>
<table class="table">
    <thead>
        <tr>
            <th>Usuario</th>
            <th>Mensaje</th>
            <th>Fecha</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="log in settings.logs | limitTo: 10" ng-class="{'success': log.username == 'system', 'warning': log.username == 'admin'}">
            <td>{{log.username}}</td>
            <td>{{log.message}}</td>
            <td>{{log.date | date: 'short'}}</td>
        </tr>
    </tbody>
</table>